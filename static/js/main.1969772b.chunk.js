(this["webpackJsonpsnake-game-react-js"]=this["webpackJsonpsnake-game-react-js"]||[]).push([[0],{23:function(e,t,n){"use strict";n.r(t);var i,c=n(1),r=n.n(c),a=n(11),o=n.n(a),s=n(4),j=n(6),u={gameResolution:{width:350,height:350,squareArea:12.5},speed:{initial:300,minSpeed:100,speedDecay:25}};!function(e){e[e.TOP=1]="TOP",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT"}(i||(i={}));var l,d,b,O,f,x,h,p,v,g,m=i,k=function(){for(var e=u.gameResolution,t=e.height,n=e.width,i=e.squareArea,c=Math.floor(Math.floor(t/i)/2)*i,r=Math.floor(Math.floor(n/i)/2)*i,a=[],o=0;o<3;o++)a.push({top:c,left:r+i*o});return a},T=u.gameResolution,w=T.width,y=T.height,D=T.squareArea,C=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},R=function(){var e=C(0,w/D)*D,t=C(0,y/D)*D;return e==w&&(e-=D),t==y&&(t-=D),{left:e,top:t}},G=n(0),M={state:{fruit:R(),pontuation:0,moveDirection:m.RIGHT,snake:k()},setState:function(){},start:function(){},changeDirection:function(e){},isGameOver:!1},I=Object(c.createContext)(M),S=function(e){var t=e.children,n=Object(c.useState)(M.state),i=Object(j.a)(n,2),r=i[0],a=i[1],o=Object(c.useState)(),l=Object(j.a)(o,2),d=l[0],b=l[1],O=Object(c.useState)(!1),f=Object(j.a)(O,2),x=f[0],h=f[1],p=Object(c.useState)(u.speed.initial),v=Object(j.a)(p,2),g=v[0],T=v[1],w=function(){h(!1),a(Object(s.a)(Object(s.a)({},r),{},{isGameOver:!0})),void 0!=d&&clearInterval(d)},y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.snake,n=u.gameResolution.squareArea,i=t[t.length-1];switch(r.moveDirection){case m.RIGHT:e&&t.shift(),t.push({top:i.top,left:i.left+n});break;case m.LEFT:e&&t.shift(),t.push({top:i.top,left:i.left-n});break;case m.TOP:e&&t.shift(),t.push({top:i.top-n,left:i.left});break;case m.BOTTOM:e&&t.shift(),t.push({top:i.top+n,left:i.left})}a(Object(s.a)(Object(s.a)({},r),{},{snake:t}))},D=function(){!function(){var e=r.snake[r.snake.length-1],t=u.gameResolution,n=t.width,i=t.height,c=t.squareArea;e&&((e.left<0||e.left>n-c)&&w(),(e.top<0||e.top>i-c)&&w())}(),function(){var e=r.snake[r.snake.length-1];if(e){var t=e.left,n=e.top;r.snake.filter((function(e){return e.left==t&&e.top==n})).length>1&&w()}}()},C=function(){y(!1),S(),a(Object(s.a)(Object(s.a)({},r),{},{fruit:R(),pontuation:r.pontuation+1}))},S=function(){var e=u.speed,t=e.minSpeed,n=e.speedDecay;g>t&&T(g-n)};return Object(c.useEffect)((function(){if(x){void 0!=d&&clearInterval(d),y();var e=setInterval((function(){return y()}),g);b(e)}}),[r.moveDirection,x,r.fruit]),Object(c.useEffect)((function(){D(),function(){var e=r.snake[r.snake.length-1];e.top==r.fruit.top&&e.left==r.fruit.left&&C()}()}),[JSON.stringify(r.snake)]),Object(G.jsx)(I.Provider,{value:{state:r,setState:a,start:function(){console.log("new game"),void 0!=d&&clearInterval(d),a(Object(s.a)(Object(s.a)({},r),{},{fruit:R(),snake:k(),pontuation:0,isGameOver:!1})),T(u.speed.initial),h(!0)},changeDirection:function(e){r.moveDirection==m.RIGHT&&e==m.LEFT||r.moveDirection==m.LEFT&&e==m.RIGHT||r.moveDirection==m.TOP&&e==m.BOTTOM||r.moveDirection==m.BOTTOM&&e==m.TOP||a(Object(s.a)(Object(s.a)({},r),{},{moveDirection:e}))}},children:t})},A=I,E=function(e){var t=e.children;return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(S,{children:t})})},F=n(2),P=n(3),B=P.a.div(l||(l=Object(F.a)(["\n    overflow: hidden;\n    display: flex;\n    position: relative;\n"]))),H=P.a.div(d||(d=Object(F.a)(["\n    background: #000;\n    top: 0px;\n    left: 0px;\n    box-sizing: border-box;\n    position: absolute;\n"]))),L=u.gameResolution.squareArea,z=function(e){var t=e.style;return Object(G.jsx)(H,{style:Object(s.a)(Object(s.a)({},t),{},{width:L,height:L})})},N=function(){var e=Object(c.useContext)(A).state.fruit,t=e.top,n=e.left;return Object(G.jsx)(z,{style:{top:t,left:n,background:"#b12603eb"}})},q=function(){var e=Object(c.useContext)(A).state;return Object(G.jsx)(G.Fragment,{children:e.snake.map((function(e,t){var n=e.top,i=e.left;return Object(G.jsx)(z,{style:{top:n,left:i,border:"1px solid #ddd"}},"snake_"+t)}))})},J=u.gameResolution,K=J.width,U=J.height,V=function(){return Object(G.jsxs)(B,{style:{width:K,height:U},children:[Object(G.jsx)(N,{}),Object(G.jsx)(q,{})]})},Y=P.a.button(b||(b=Object(F.a)(["\n\n    @media (max-width: 700px){\n        font-size: .8rem;\n        border-width: 3px;\n        padding: 4px 8px;\n    }\n"]))),_=function(e){var t=e.styles,n=Object(c.useContext)(A).start;return Object(G.jsx)(Y,{style:Object(s.a)({fontFamily:"'Press Start 2P', cursive"},t),className:"nes-btn is-primary",onClick:n,children:"New Game"})},Q=P.a.div(O||(O=Object(F.a)(["\n    @media (max-width: 700px) {\n        font-size: .7rem;\n    }\n"]))),W=function(){var e=Object(c.useContext)(A).state;return Object(G.jsxs)(Q,{children:["Score: ",e.pontuation]})},X=P.a.div(f||(f=Object(F.a)(["\n    border-bottom: 4px solid #000;\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    \n    h1 {\n        margin: 0;\n        padding: 0;\n    }\n\n    div {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    @media (max-width:700px) {\n        padding: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        h1 {\n            font-size: 1.2rem;\n        }\n        div{\n            justify-content: flex-end;\n            button {\n                display: none;\n            }\n        }\n\n    }\n\n"]))),Z=function(){return Object(G.jsxs)(X,{children:[Object(G.jsx)("h1",{className:"title",children:"Snake Game"}),Object(G.jsxs)("div",{children:[Object(G.jsx)(_,{}),Object(G.jsx)(W,{})]})]})},$=P.a.div(x||(x=Object(F.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto;\n    /* border: 1px solid #000; */\n    padding: 0;\n    &:focus {\n        outline: none;\n    }\n\n    @media (max-width:700px) {\n        margin-top: 4px;\n    }\n\n"]))),ee=function(){var e=Object(c.useContext)(A).state;return Object(G.jsx)("dialog",{className:"nes-dialog is-dark",id:"dialog-dark",open:e.isGameOver,children:Object(G.jsxs)("form",{style:{textAlign:"center"},method:"dialog",children:[Object(G.jsx)("p",{className:"title",children:"GAME OVER"}),Object(G.jsxs)("p",{children:["Your score: ",e.pontuation]}),Object(G.jsx)(_,{})]})})},te=P.a.button(h||(h=Object(F.a)(["\n    width: 50px;\n    height: 50px;\n    padding: 0;\n    box-sizing: border-box;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:focus, &:active {\n        outline: none;\n    }\n    &:active {\n        opacity: 0.2;\n    }\n\n    svg, i {\n        font-size: 1.5rem;\n    }\n"]))),ne=function(e){var t=e.onClick,n=e.children;return Object(G.jsx)(te,{onClick:t,children:n})},ie=n(5),ce=function(){var e=Object(c.useContext)(A).changeDirection;return Object(G.jsx)(ne,{onClick:function(){return e(m.BOTTOM)},children:Object(G.jsx)(ie.b,{})})},re=function(){var e=Object(c.useContext)(A).changeDirection;return Object(G.jsx)(ne,{onClick:function(){return e(m.LEFT)},children:Object(G.jsx)(ie.a,{})})},ae=function(){var e=Object(c.useContext)(A).changeDirection;return Object(G.jsx)(ne,{onClick:function(){return e(m.RIGHT)},children:Object(G.jsx)(ie.c,{})})},oe=function(){var e=Object(c.useContext)(A).changeDirection;return Object(G.jsx)(ne,{onClick:function(){return e(m.TOP)},children:Object(G.jsx)(ie.d,{})})},se=P.a.div(p||(p=Object(F.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    div{\n        display: flex;\n        gap: 50px;\n    }\n"]))),je=function(){return Object(G.jsxs)(se,{children:[Object(G.jsx)(oe,{}),Object(G.jsxs)("div",{children:[Object(G.jsx)(re,{}),Object(G.jsx)(ae,{})]}),Object(G.jsx)(ce,{})]})},ue=P.a.div(v||(v=Object(F.a)(["\n    position: relative;\n    padding: 20px;\n"]))),le=P.a.div(g||(g=Object(F.a)(["\n    position: absolute;\n    top: 4px;\n    left: 4px;\n"]))),de=function(){return Object(G.jsxs)(ue,{children:[Object(G.jsx)(je,{}),Object(G.jsx)(le,{children:Object(G.jsx)(_,{})})]})},be=u.gameResolution,Oe=be.width,fe=(be.height,function(){var e=Object(c.useContext)(A).changeDirection;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)($,{className:"nes-container with-title",role:"button",tabIndex:0,onKeyUp:function(t){switch(t.code){case"ArrowDown":e(m.BOTTOM);break;case"ArrowUp":e(m.TOP);break;case"ArrowRight":e(m.RIGHT);break;case"ArrowLeft":e(m.LEFT)}},onKeyDown:function(){},style:{width:Oe},children:[Object(G.jsx)(Z,{}),Object(G.jsx)(V,{}),Object(G.jsx)(ee,{})]}),Object(G.jsx)(de,{})]})});var xe=function(){return Object(G.jsx)(E,{children:Object(G.jsx)(fe,{})})};n(22);o.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(xe,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.1969772b.chunk.js.map